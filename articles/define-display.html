<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Define Display | Bonvision </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Define Display | Bonvision ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/bonvision/BonVision/blob/main/docs/articles/define-display.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="&#160; Bonvision">
            &#160; Bonvision
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="define-display">Define Display</h1>

<h2 id="viewwindow">ViewWindow</h2>
<p><code>ViewWindow</code> are windows into the virtual environment that is being rendered.</p>
<p>To better illustrate how viewing windows interact with the visual environment, this is an example of the same stimulus (mapped onto a sphere) viewed through different viewing windows.
The first two rows are from a top down perspective, with the red dot indicating the subject and the lines indicating the placement of the viewing window.
The images on the right hand side show the final image as viewed from those viewing windows.</p>
<p><img src="../images/DisplayLogic/ViewWindow-examples-.png" width="500" alt="View Window Examples"></p>
<p>Each <code>ViewWindow</code> must be accompanied by a <code>DrawViewport</code> operator. Additional displays can be defined by adding multiple <code>ViewingWindow</code>/<code>DrawViewport</code> nodes.</p>
<div class="workflow"><p><img src="../workflows/overview-multiple-displays.bonsai" alt="Multiple Displays"></p>
</div>
<h2 id="drawviewport">DrawViewport</h2>
<p>The <code>DrawViewport</code> operator draws the <code>ViewWindow</code> to a display and provides additional options for positioning the <code>ViewWindow</code> on a display.</p>
<p>This example workflow illustrates how we can combine the <code>ViewWindow</code> and <code>DrawViewport</code> operators to flexibly position different views (for instance, when we have two monitors side by side).
A single checkboard is drawn in the visual environment and two <code>ViewWindows</code> are positioned side by side (by adjusting the <code>X-axis</code> variable in the <code>Translation</code> property). Then we draw the two views to two displays.</p>
<div class="workflow"><p><img src="../workflows/define-display-draw-viewport.bonsai" alt="Multiple Displays"></p>
</div>
<h2 id="video-walkthrough">Video Walkthrough</h2>
<div style="max-width: 500px">
<iframe width="100%" height="282" src="https://www.youtube.com/embed/V_AMgMIpXew" title="BonVision LiveCodingSession: Setting up Screens" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</div>
<h2 id="post-processing-operators-optional">Post-processing Operators (optional)</h2>
<p>Bonvision comes with post-processing operators to correct for various distortions in the final display of the image (for instance, when using a projector in conjunction with a mirror/lens or projecting on non-uniform surfaces). These operators would be placed between the <code>ViewWindow</code> and <code>DrawViewport</code> operator.</p>
<h3 id="perspectivemapping">PerspectiveMapping</h3>
<p>The <code>PerspectiveMapping</code> operator can be used to correct distortions when projecting displays on the walls of an rectangular arena. One would specify 4 <code>ViewWindows</code>, one for each wall, and then specify a <code>PerspectiveMapping</code> for each view window to transform the view before attaching a <code>DrawViewport</code> operator.</p>
<p>An example implementation can be found at <a href="https://groups.google.com/g/bonsai-users/c/WV7V57vlSAk/m/XjQPqCJkCAAJ">https://groups.google.com/g/bonsai-users/c/WV7V57vlSAk/m/XjQPqCJkCAAJ</a>.</p>
<h3 id="meshmapping">MeshMapping</h3>
<p>The <code>MeshMapping</code> operator is best used to correct distortions when projecting displays on a demispherical dome. As the process is more complicated, check out the <a href="mesh-mapping-calibration.html">mesh mapping calibration</a> article for more information how to measure and calibrate this operator.</p>
<h3 id="gammacorrection">GammaCorrection</h3>
<p>The <code>GammaCorrection</code> operator applies simple intensity mapping of the three colors, to make sure the stimuli are linear. It uses a simple LUT (Look-up-table), for Red, Green and Blue. Check out the <a href="gamma-calibration.html">gamma calibration</a> article for more information on how to measure and calibrate this operator.</p>
<h2 id="other-nodes-to-document-under-construction">Other nodes to document (under construction)</h2>
<p><code>ViewMapping</code></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/bonvision/BonVision/blob/main/docs/articles/define-display.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Aman Saleem. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>
